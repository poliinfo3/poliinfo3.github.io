(function(e){function t(t){for(var r,s,i=t[0],l=t[1],d=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/dashboard/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var c=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{},[a("v-main",[a("v-container",[a("v-dialog",{attrs:{value:!!e.dialog_title&&!!e.dialog_text,persistent:"",width:"500"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2"},[e._v(e._s(e.dialog_title))]),a("v-card-text",[e._v(e._s(e.dialog_text))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialog_title=null,e.dialog_text=null}}},[e._v("OK")])],1)],1)],1),a("v-dialog",{attrs:{value:!!e.progress_text,"hide-overlay":"",persistent:"",width:"300"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" "+e._s(e.progress_text)+" "),a("v-progress-linear",{attrs:{indeterminate:"",color:"white"}})],1)],1)],1),e.leaderboard?a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"primary",dark:""}},[a("v-toolbar-title",[e._v("Dashboard for NTCIR-16 QA Lab-PoliInfo-3")]),a("v-spacer")],1),a("v-tabs",{attrs:{"background-color":"primary","show-arrows":"",vertical:"xs"!==e.$vuetify.breakpoint.name},model:{value:e.task_tab,callback:function(t){e.task_tab=t},expression:"task_tab"}},[a("v-tabs-slider",{attrs:{color:"teal lighten-3"}}),a("v-tab",[e._v("ログイン・参加申し込み")]),e._l(e.tasks,(function(t){return a("v-tab",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),a("v-tab-item",[a("v-tabs",{attrs:{"background-color":"secondary","show-arrows":""},model:{value:e.login_tab,callback:function(t){e.login_tab=t},expression:"login_tab"}},[a("v-tabs-slider",{attrs:{color:"secondary lighten-3"}}),a("v-tab",{attrs:{disabled:!0}},[e._v("ログイン")]),a("v-tab",[e._v("参加申し込み")]),a("v-tab-item"),a("v-tab-item",[a("v-container",[a("v-card",[a("v-card-title",[e._v("参加申し込み")]),a("v-card-text",[e._v("NTCIR-16 QA Lab-PoliInfo-3 の参加登録の受け付けは終了しました。")])],1)],1)],1)],1)],1),e._l(e.tasks,(function(t){return a("v-tab-item",{key:t.id},[e.leaderboard&&e.leaderboard.submissions?a("p3-task",{attrs:{leaderboard:e.leaderboard,task:t,atoken:e.atoken},on:{"p3-show-dialog":e.p3ShowDialog,"p3-show-progress":e.p3ShowProgress,"p3-reload":e.reload}}):e._e()],1)}))],2)],1):e._e()],1)],1)],1)},o=[],s=a("bc3a"),i=a.n(s),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{},[a("v-tabs",{attrs:{"background-color":"secondary","show-arrows":""},model:{value:e.version_tab,callback:function(t){e.version_tab=t},expression:"version_tab"}},[a("v-tabs-slider",{attrs:{color:"secondary lighten-3"}}),a("v-tab",[e._v("概要・提出")]),e._l(e.task.versions,(function(t){return a("v-tab",{key:t.id},[e._v(" "+e._s(t.name)+" ")])}))],2),a("v-tabs-items",{model:{value:e.version_tab,callback:function(t){e.version_tab=t},expression:"version_tab"}},[a("v-tab-item",[a("v-container",[a("v-card",[a("v-card-title",[e._v(e._s(e.task.name)+" とは")]),a("v-card-text",[a("p",[a("span",{domProps:{innerHTML:e._s(e.task.desc)}})]),a("p",[e._v(" 詳しくは "),a("a",{attrs:{href:e.task.link}},[e._v(e._s(e.task.name))]),e._v(" のページをご覧ください。 ")])])],1)],1)],1),e._l(e.task.versions,(function(t){return a("v-tab-item",{key:t.id},[e.submissions?a("p3-board",{attrs:{items:e.submissions[t.id]||[],items_per_page:-1,sort_by:["score"],sort_desc:[!0],leaderboard:e.leaderboard,task:e.task,atoken:e.atoken},on:{"p3-show-dialog":e.p3ShowDialog,"p3-show-progress":e.p3ShowProgress,"p3-reload":e.reload}}):e._e()],1)}))],2)],1)},d=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.items?a("v-data-table",{staticClass:"elevation-1",attrs:{items:e.items,headers:e.lb_columns,"fixed-header":!0,"items-per-page":e.items_per_page,"single-expand":!1,expanded:[],"item-key":"id","show-expand":"",dense:"","sort-by":e.sort_by,"sort-desc":e.sort_desc},scopedSlots:e._u([{key:"item.score",fn:function(t){var r=t.item;return["success"===r.status?a("span",[e._v(e._s(parseFloat(r.score).toFixed(4)))]):"failed"===r.status?a("span",[a("v-chip",{attrs:{"x-small":"x-small",color:"error"}},[e._v("エラー")])],1):"accepted"===r.status?a("span",[a("v-chip",{attrs:{"x-small":"x-small",color:"info"}},[e._v("採点中")])],1):"received"===r.status?a("span",[a("v-chip",{attrs:{"x-small":"x-small",color:"warning"}},[e._v("採点待ち")])],1):e._e()]}},e._l(e.extra_metrics,(function(t){return{key:"item."+t,fn:function(r){var n=r.item;return["success"===n.status&&"undefined"!==typeof n[""+t]?a("span",{key:t},[e._v(e._s(parseFloat(n[""+t]).toFixed(4)))]):e._e()]}}})),{key:"item.date",fn:function(t){var a=t.item;return[e._v(" "+e._s(e._f("dateFormat")(a.date))+" ")]}},{key:"item.download",fn:function(t){t.item;return[a("v-btn",{attrs:{disabled:!0,rounded:"rounded",download:"","x-small":"x-small"}},[a("v-icon",{attrs:{small:""}},[e._v("mdi-download")])],1)]}},{key:"expanded-item",fn:function(t){var r=t.headers,n=t.item;return[a("td",{attrs:{colspan:r.length}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}},model:{value:e.valid[n.id],callback:function(t){e.$set(e.valid,n.id,t)},expression:"valid[item.id]"}},[a("v-container",[n.message?a("v-textarea",{attrs:{label:"採点結果",readonly:!0,rows:"1"},model:{value:n.message,callback:function(t){e.$set(n,"message",t)},expression:"item.message"}}):e._e(),a("v-textarea",{attrs:{label:"System description（用いた手法、または前回の提出との変更箇所）",required:"",rules:e.descRules,counter:300,"validate-on-blur":!1,readonly:!0,rows:"1","auto-grow":!0},model:{value:n.desc,callback:function(t){e.$set(n,"desc",t)},expression:"item.desc"}})],1)],1)],1)]}}],null,!0)}):e._e()},u=[],p=(a("a9e3"),a("d81d"),a("fb6a"),a("99af"),a("c1df")),v=a.n(p),b={name:"P3Board",components:{},props:{leaderboard:{type:Object,required:!0},task:{type:Object,required:!0},atoken:{type:String,required:!0},items:{type:Array,required:!0},items_per_page:{type:Number,required:!0},sort_by:{type:Array,required:!0},sort_desc:{type:Array,required:!0},hide_teamname:{type:Boolean}},computed:{extra_metrics:function(){return this.task.metrics.slice(1).map((function(e,t){return"score".concat(t+2)}))},lb_columns:function(){return[{text:"ID",value:"id"}].concat(this.hide_teamname?[]:[{text:"Team Name",value:"team_name"}]).concat([{text:"Download",value:"download",sortable:!1},{text:"Submitted at",value:"date"}]).concat(this.task.metrics.map((function(e,t){return{text:e,value:t>0?"score".concat(t+1):"score"}}))).concat([{text:"More...",value:"data-table-expand",sortable:!1}])}},data:function(){return{valid:[],loading:!1,descRules:[function(e){return!!e||"必須"},function(e){return e.length>=10||"システムの説明を入力してください"},function(e){return e.length<=300||"300文字以内"}],radioRules:[function(e){return!!e||"必須"}]}},filters:{dateFormat:function(e){return v.a.unix(e).format("YYYY/MM/DD HH:mm")}},methods:{}},m=b,f=a("2877"),_=a("6544"),h=a.n(_),g=a("8336"),y=a("cc20"),k=a("a523"),x=a("8fea"),w=a("4bd4"),V=a("132d"),T=a("a844"),S=Object(f["a"])(m,c,u,!1,null,null,null),P=S.exports;h()(S,{VBtn:g["a"],VChip:y["a"],VContainer:k["a"],VDataTable:x["a"],VForm:w["a"],VIcon:V["a"],VTextarea:T["a"]});var O={name:"P3Task",components:{P3Board:P},props:{leaderboard:{type:Object,required:!0},task:{type:Object,required:!0},atoken:{type:String,required:!0}},computed:{submissions:function(){return this.leaderboard.submissions[this.task.id]||{}}},data:function(){return{version_tab:1}},methods:{p3ShowDialog:function(e,t){this.$emit("p3-show-dialog",null,null),this.$emit("p3-show-dialog",e,t)},p3ShowProgress:function(e){this.$emit("p3-show-progress",null),this.$emit("p3-show-progress",e)},reload:function(){this.$emit("p3-reload")}}},j=O,C=a("b0af"),D=a("99d9"),$=a("71a3"),q=a("c671"),A=a("fe57"),I=a("aac8"),M=a("9a96"),F=Object(f["a"])(j,l,d,!1,null,null,null),B=F.exports;h()(F,{VCard:C["a"],VCardText:D["b"],VCardTitle:D["c"],VContainer:k["a"],VTab:$["a"],VTabItem:q["a"],VTabs:A["a"],VTabsItems:I["a"],VTabsSlider:M["a"]});var R={name:"App",components:{P3Task:B},data:function(){return{dialog_title:null,dialog_text:null,progress_text:null,task_tab:null,login_tab:1,tasks:null,leaderboard:null,valid:!1,atoken:null,atokenRules:[function(e){return!!e||"必須"},function(e){return/^[0-9A-Za-z_]{20}$/.test(e)||"フォーマットエラー"}]}},computed:{},methods:{reload:function(){var e=this;i.a.get("/dashboard/leader_board.json").then((function(t){t.data&&"success"===t.data.status?e.leaderboard=t.data:e.p3ShowDialog("ロードに失敗しました","エラーが起きました: "+t.data.message)})).catch((function(t){e.p3ShowProgress(null),e.p3ShowDialog("ロードに失敗しました","エラーが起きました"+t.message)}))},p3ShowDialog:function(e,t){this.dialog_title=e,this.dialog_text=t},p3ShowProgress:function(e){this.progress_text=e}},mounted:function(){var e=this;this.atoken="",this.reload(),i.a.get("/dashboard/subtasks.json",{}).then((function(t){e.tasks=t.data}))}},L=R,N=a("7496"),Y=a("169a"),E=a("ce7e"),H=a("f6c4"),J=a("8e36"),Q=a("2fa4"),z=a("71d9"),K=a("2a7f"),Z=Object(f["a"])(L,n,o,!1,null,null,null),G=Z.exports;h()(Z,{VApp:N["a"],VBtn:g["a"],VCard:C["a"],VCardActions:D["a"],VCardText:D["b"],VCardTitle:D["c"],VContainer:k["a"],VDialog:Y["a"],VDivider:E["a"],VMain:H["a"],VProgressLinear:J["a"],VSpacer:Q["a"],VTab:$["a"],VTabItem:q["a"],VTabs:A["a"],VTabsSlider:M["a"],VToolbar:z["a"],VToolbarTitle:K["a"]});var U=a("f309");r["a"].use(U["a"]);var W=new U["a"]({theme:{themes:{light:{primary:"#009688",secondary:"#80CBC4",accent:"#00BFA5"}}}}),X=a("2b27"),ee=a.n(X);r["a"].use(ee.a),r["a"].config.productionTip=!1,new r["a"]({vuetify:W,render:function(e){return e(G)}}).$mount("#app")}});
